function ipsclass(){this.cookies=new Array();this.ignore_cookies=new Array(ipb_var_cookieid+"ipb_stronghold",ipb_var_cookieid+"session_id",ipb_var_cookieid+"ipb_admin_session_id",ipb_var_cookieid+"member_id",ipb_var_cookieid+"pass_hash");this.settings={"do_linked_resize":0,"resize_percent":50};this.init=function(){var _1=document.cookie.split(";");if(_1.length){for(i=0;i<_1.length;i++){if(_1[i].match(new RegExp(ipb_var_cookieid+".*$"))){var _2=_1[i].split("=");var _3=this.trim(_2[0]);var _4=unescape(this.trim(_2[1]));if(_3&&(!this.in_array(_3,this.ignore_cookies))){this.cookies[_3.replace(ipb_var_cookieid,"")]=_4;}}}}_1=null;};this.trim=function(_5){if(typeof (_5)=="undefined"){return "";}_5=_5.replace(/^\s+/,"");return _5.replace(/\s+$/,"");};this.html_entity_decode=function(_6){if(typeof ca=="undefined"){var ca=document.createElement("textarea");}ca.innerHTML=_6.replace(/</g,"&lt;").replace(/>/g,"&gt;");return ca.value;};this.in_array=function(_8,_9){if(!_9.length){return false;}for(var i=0;i<_9.length;i++){if(_9[i]===_8){return true;}}return false;};this.htmlspecialchars=function(_b){_b=_b.replace(/</g,"&lt;");_b=_b.replace(/>/g,"&gt;");_b=_b.replace(/"/g,"&quot;");return _b;};this.un_htmlspecialchars=function(_c){_c=_c.replace(/&lt;/g,"<");_c=_c.replace(/&gt;/g,">");_c=_c.replace(/&quot;/g,"\"");return _c;};this.get_editor_contents=function(_d,_e){var _f=_e?_e:IPS_editor;if(!_d){for(var i in _f){_d=i;break;}}return _f[_d].editor_get_contents;};this.add_editor_contents=function(_11,_12,_13){var _14=_13?_13:IPS_editor;if(!_12){for(var i in _14){_12=i;break;}}return _14[_12].insert_text(_11);};this.convert_saved_tags_to_display_tags=function(_16){_16=_16.replace(/(<|&lt;|&#60;)!--/,"{");_16=_16.replace(/--(>|&gt;|&#62;)/,"}");return _16;};this.fade_in_element=function(div){var _18="#";var _19="0123456789abcdef";var _1a="#ffff66";var _1b=document.getElementById(div).style.backgroundColor;var _1c="#ffffff";var _1d=20;var _1e=80;var _1f=_19.indexOf(_1a.substr(1,1))*16+_19.indexOf(_1a.substr(2,1));var _20=_19.indexOf(_1a.substr(3,1))*16+_19.indexOf(_1a.substr(4,1));var _21=_19.indexOf(_1a.substr(5,1))*16+_19.indexOf(_1a.substr(6,1));var _22=_19.indexOf(_1c.substr(1,1))*16+_19.indexOf(_1c.substr(2,1));var _23=_19.indexOf(_1c.substr(3,1))*16+_19.indexOf(_1c.substr(4,1));var _24=_19.indexOf(_1c.substr(5,1))*16+_19.indexOf(_1c.substr(6,1));for(i=1,r=_1f,g=_20,b=_21;i<=_1d;r=Math.round(_1f+i*((_22-_1f)/(_1d-1))),g=Math.round(_20+i*((_23-_20)/(_1d-1))),b=Math.round(_21+i*((_24-_21)/(_1d-1))),i++){hstr="#"+_19.charAt(Math.floor(r/16))+_19.charAt(r%16)+_19.charAt(Math.floor(g/16))+_19.charAt(g%16)+_19.charAt(Math.floor(b/16))+_19.charAt(b%16);setTimeout("var div = document.getElementById(\""+div+"\"); div.style.backgroundColor = \""+hstr+"\";",i*_1e);}setTimeout("var div = document.getElementById(\""+div+"\"); div.style.backgroundColor = \""+_1b+"\";",(i+1)*_1e);};this.lang_build_string=function(){if(!arguments.length||!arguments){return;}var _25=arguments[0];for(var i=1;i<arguments.length;i++){var _27=new RegExp("<%"+i+">","gi");_25=_25.replace(_27,arguments[i]);}return _25;};this.get_id_from_text=function(id){return id.replace(/.*(\-|_)(\S+)/,"$2");};this.get_name_from_text=function(id){return id.replace(/(.*)(\-|_)(\S+)/,"$1");};this.location_jump=function(url,_2b){url=url.replace(/&amp;/g,"&");if(_2b){window.location.href=url;}else{window.location.href=ipb_var_base_url+url;}};this.confirm_action=function(url,msg){if(!msg){msg="PLEASE CONFIRM:\nOK to proceed?";}if(url){url=url.replace("&amp;","&");}else{url="";}if(confirm(msg)){window.location.href=url;}else{alert("OK, action cancelled!");return false;}};this.pop_up_window=function(url,_2f,_30,_31){if(!_31){var _32=new Date();_31=_32.getTime();}var Win=window.open(url.replace("&amp;","&"),_31,"width="+_2f+",height="+_30+",resizable=1,scrollbars=1,location=no,directories=no,status=no,menubar=no,toolbar=no");Win.focus();return false;};this.set_unselectable=function(obj){if(!is_ie4&&typeof (obj.tagName)!="undefined"){if(obj.hasChildNodes()){for(var i=0;i<obj.childNodes.length;i++){this.set_unselectable(obj.childNodes[i]);}}obj.unselectable="on";}};this.get_obj_leftpos=function(obj){var _37=0;if(obj.offsetParent){while(obj.offsetParent){_37+=obj.offsetLeft;obj=obj.offsetParent;}}else{if(obj.x){_37+=obj.x;}}return _37;};this.get_obj_toppos=function(obj){var _39=0;if(obj.offsetParent){while(obj.offsetParent){_39+=obj.offsetTop;obj=obj.offsetParent;}}else{if(obj.y){_39+=obj.y;}}return _39;};this.cancel_bubble=function(obj,_3b){if(_3b!==false){_3b=true;}if(!obj||is_ie){if(_3b){window.event.returnValue=false;}window.event.cancelBubble=true;return window.event;}else{obj.stopPropagation();if(_3b){obj.preventDefault();}return obj;}};this.cancel_bubble_all=function(obj){return ipsclass.cancel_bubble(obj,true);};this.cancel_bubble_low=function(obj){return ipsclass.cancel_bubble(obj,false);};this.my_getcookie=function(_3e){return this.cookies[_3e];};this.my_setcookie=function(_3f,_40,_41){expire="";domain="";path="/";if(_41){expire="; expires=Wed, 1 Jan 2020 00:00:00 GMT";}if(ipb_var_cookie_domain!=""){domain="; domain="+ipb_var_cookie_domain;}if(ipb_var_cookie_path!=""){path=ipb_var_cookie_path;}document.cookie=ipb_var_cookieid+_3f+"="+_40+"; path="+path+expire+domain+";";this.cookies[_3f]=_40;};this.array_stacksize=function(_42){for(i=0;i<_42.length;i++){if((_42[i]=="")||(_42[i]==null)||(_42=="undefined")){return i;}}return _42.length;};this.array_pushstack=function(_43,_44){var _45=this.array_stacksize(_43);_43[_45]=_44;};this.array_popstack=function(_46){var _47=this.array_stacksize(_46);var _48=_46[_47-1];delete _46[_47-1];return _48;};}